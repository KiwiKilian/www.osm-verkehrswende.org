---
import MenuItem from '../MenuItem/MenuItem.astro'
import MenuItemHeadline from '../MenuItem/MenuItemHeadline.astro'
import MenuItemWrapper from '../MenuItem/MenuItemWrapper.astro'
import { projectsConfig } from 'src/projectsConfig.const'

const enabledProjects = Object.entries(projectsConfig)
  .filter(([_key, value]) => value.enabled)
  .filter(([_key, value]) => value.label)
---

<MenuItemWrapper>
  <MenuItem href="/" highlightExactMatch>Ãœbersicht</MenuItem>
</MenuItemWrapper>

<MenuItemHeadline>Projekte</MenuItemHeadline>
<MenuItemWrapper>
  {
    enabledProjects.map(([key, project]) => {
      if ('externalUrl' in project) {
        return (
          <MenuItem href={project.externalUrl} external>
            {project.label}
          </MenuItem>
        )
      }

      return <MenuItem href={`/${key}`}>{project.label}</MenuItem>
    })
  }
</MenuItemWrapper>
